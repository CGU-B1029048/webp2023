<!DOCTYPE html>
<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"></style>
        <meta charset="UTF-8">    
        <script>
            var openurl = "https://quality.data.gov.tw/dq_download_json.php?nid=5948&md5_url=b7ce2082883f6b680810828799d4c32e";
            fetch(openurl, {method: "GET",
                            Host: "quality.data.gov.tw",
                            mode: "no-cors",
                            "Sec-Fetch-Dest": "document",
                            "Sec-Fetch-Mode": "navigate",
                            "Sec-Fetch-User": "?1",
                            "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"
            })
            .then(res => { 
                return res.text();
            }).then(result => {
                data = JSON.parse(result);
                var myTable = document.getElementById("postcode");
                for (let i = 0; i < 10; i++) {
                    var row = myTable.insertRow(-1);
                    row.insertCell(0).innerHTML = data[i]['Zip5'];
                    row.insertCell(1).innerHTML = data[i]['City'];
                    row.insertCell(2).innerHTML = data[i]['Area'];
                }
            });

        </script>
    </head>
    <body>
        <table id="postcode" class="table table-success table-hover table-striped">
            <tr class="table table-dark">
                <th>postcode</th>
                <th>縣市</th>
                <th>鄉鎮市區</th>
            </tr>
        </table>
    </body>    
</html>
